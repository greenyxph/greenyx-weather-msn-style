<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Weather Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css" />
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    h2 {
      text-align: center;
      margin-bottom: 10px;
    }
    #weather-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      max-width: 100%;
    }
    .day-card {
      background: white;
      border-radius: 8px;
      padding: 10px;
      width: 120px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align: center;
      transition: transform 0.3s ease;
    }
    .day-card:hover {
      transform: scale(1.05);
    }
    .wi {
      font-size: 36px;
      margin: 5px 0;
      animation-duration: 1.5s;
      animation-iteration-count: infinite;
    }
    .sunny { color: #f39c12; }
    .rainy { color: #3498db; }
    .cloudy { color: #95a5a6; }
    .stormy { color: #9b59b6; }
    .snowy { color: #7f8c8d; }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
  </style>
</head>
<body>
  <h2>5-Day Weather Forecast</h2>
  <div id="weather-container"></div>

  <script>
    const container = document.getElementById('weather-container');

    function getDayName(dateStr) {
      const date = new Date(dateStr);
      return date.toLocaleDateString('en-US', { weekday: 'short' });
    }

    function getIconClass(description) {
      description = description.toLowerCase();
      if (description.includes('sun')) return 'wi-day-sunny';
      if (description.includes('rain')) return 'wi-rain';
      if (description.includes('cloud')) return 'wi-cloudy';
      if (description.includes('storm')) return 'wi-thunderstorm';
      if (description.includes('snow')) return 'wi-snow';
      return 'wi-na';
    }

    function getColorClass(description) {
      description = description.toLowerCase();
      if (description.includes('sun')) return 'sunny';
      if (description.includes('rain')) return 'rainy';
      if (description.includes('cloud')) return 'cloudy';
      if (description.includes('storm')) return 'stormy';
      if (description.includes('snow')) return 'snowy';
      return '';
    }

    function getAnimClass(colorClass) {
      switch (colorClass) {
        case 'sunny': return 'bounce';
        case 'rainy': return 'pulse';
        case 'stormy': return 'spin';
        default: return '';
      }
    }

    async function fetchDailyForecast() {
      const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=15.0&longitude=120.9&daily=temperature_2m_max,temperature_2m_min,weathercode&timezone=auto');
      const data = await response.json();
      const days = data.daily.time;
      const tempsMax = data.daily.temperature_2m_max;
      const tempsMin = data.daily.temperature_2m_min;
      const codes = data.daily.weathercode;

      const descriptions = {
        0: 'Clear sky',
        1: 'Mainly clear',
        2: 'Partly cloudy',
        3: 'Overcast',
        45: 'Fog',
        48: 'Depositing rime fog',
        51: 'Light drizzle',
        61: 'Light rain',
        63: 'Moderate rain',
        65: 'Heavy rain',
        71: 'Light snow',
        80: 'Rain showers',
        95: 'Thunderstorm',
      };

      days.slice(0, 5).forEach((day, i) => {
        const avgTemp = Math.round((tempsMax[i] + tempsMin[i]) / 2);
        const description = descriptions[codes[i]] || 'Unknown';
        const iconClass = getIconClass(description);
        const colorClass = getColorClass(description);
        const card = document.createElement('div');
        card.className = 'day-card';
        card.innerHTML = `
          <h4>${getDayName(day)}</h4>
          <i class="wi ${iconClass} ${colorClass} ${getAnimClass(colorClass)}"></i>
          <p>${avgTemp}Â°C</p>
          <p>${description}</p>
        `;
        container.appendChild(card);
      });
    }

    fetchDailyForecast();
  </script>
</body>
</html>
